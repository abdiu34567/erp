<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YeneHealth Assistant</title>
    <!-- The official Telegram Mini App script -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="toast" class="toast hidden"></div>

    <div id="loading-overlay" class="hidden">
      <div class="spinner"></div>
      <p>Processingâ€¦</p>
    </div>

    <!-- <div id="loading-view">
      <h2>Loading...</h2>
    </div> -->

    <!-- ===== LOGIN / CONFIGURATION SECTION ===== -->
    <!-- Shown only if the user is not configured -->
    <div id="config-view" class="section hidden">
      <h2>Setup Your Account</h2>
      <p>Please enter your ERP credentials. This is a one-time setup.</p>
      <input
        type="email"
        id="email-input"
        placeholder="Your ERP Email"
        required
      />
      <input
        type="password"
        id="password-input"
        placeholder="Your ERP Password"
        required
      />
      <button id="save-config-btn">Save and Continue</button>
      <button id="cancel-update-btn" class="secondary hidden">Cancel</button>
    </div>

    <!-- ===== MAIN ACTIONS SECTION ===== -->
    <!-- Shown after the user is configured -->
    <div id="main-view" class="hidden">
      <div class="section">
        <h2 id="welcome-message">Welcome!</h2>
        <button id="checkin-btn">Check IN Now</button>
        <button id="checkout-btn">Check OUT Now</button>
      </div>

      <!-- ===== SETTINGS SECTION ===== -->
      <div class="section">
        <h2>Settings & Automation</h2>

        <p><strong>Daily Reminders</strong></p>
        <input type="checkbox" id="reminders-enabled" />
        <label for="reminders-enabled">Receive push notifications</label>

        <div id="reminder-times" class="hidden">
          <label>Morning Start:</label>
          <input type="time" id="time-morning" value="08:30" />
          <label>Lunch Out:</label>
          <input type="time" id="time-lunch-out" value="12:30" />
          <label>Lunch In:</label>
          <input type="time" id="time-lunch-in" value="13:30" />
          <label>End of Day:</label>
          <input type="time" id="time-evening" value="17:30" />
        </div>

        <p style="margin-top: 15px"><strong>Automate Today</strong></p>
        <button id="automate-day-btn">Automate My Day</button>

        <hr style="margin: 20px 0" />
        <button id="update-creds-btn" class="secondary">
          Update Credentials
        </button>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
